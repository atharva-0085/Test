{% extends 'base/layout.html' %}
{% load static %}

{% block content %}
<section class="jobs-section">
    <h1>💼 Explore Job Opportunities</h1>
    <p>Browse internships and jobs tailored for international students</p>

    <!-- 🔍 Search Bar -->
    <form method="GET" class="job-search-form">
        <input type="text" name="title" placeholder="Job Title" value="{{ request.GET.title }}">
        <input type="text" name="location" placeholder="Location" value="{{ request.GET.location }}">
        <button type="submit">Search</button>
    </form>

    <!-- 📋 Job Listings Table -->
    <table class="job-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Title</th>
                <th>Company</th>
                <th>Location</th>
                <th>HQ</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for job in jobs %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ job.title }}</td>
                <td>{{ job.company }}</td>
                <td>{{ job.location }}</td>
                <td>{{ job.hq }}</td>
                <td><a class="btn-view" href="{% url 'job_details' job.id %}">View Details</a></td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6">No jobs found. Try adjusting your search.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
{% endblock %}
